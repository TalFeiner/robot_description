<?xml version="1.0" encoding="utf-8"?>
<launch>

	<group>
		<param name="tf_prefix" value="" />		
		<!--param name="robot_description"
		textfile="$(find blattoidea)/urdf/blattoidea.urdf" /-->
		<param name="robot_description" command="$(find xacro)/xacro '$(find blattoidea)/urdf/blattoidea_gazebo.urdf.xacro'" />
	
		
		
		<!-- convert joint states to TF transforms for rviz, etc -->
		<node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"
		respawn="false" output="screen">
			<remap from="/joint_states" to="/blattoidea/joint_states" />
		</node>

		<include file="$(find gazebo_ros)/launch/empty_world.launch" >
			 <arg name="world_name" value="$(find blattoidea)/worlds/corridor_world.world"/>
		</include>	 
		<!--<node
		name="tf_footprint_base"
		pkg="tf"
		type="static_transform_publisher"
		args="0 0 0 0 0 0 base_link base_footprint 40" />-->
		<node
		name="tf_world_map"
		pkg="tf"
		type="static_transform_publisher"
		args="0 0 0 0 0 0 world map 40" />
		<node
		name="tf_map_odom"
		pkg="tf"
		type="static_transform_publisher"
		args="0 0 0 0 0 0 map odom 40" />
		
		<node
		name="spawn_model"
		pkg="gazebo_ros"
		type="spawn_model"
		args="-urdf -model blattoidea -param robot_description -y -2"
		output="screen" />
		
		<node
		name="joy_driver"
		pkg="joy"
		type="joy_node"
		output="screen" />
		
		<node
		name="teleop_joy"
		pkg="teleop_twist_joy"
		type="teleop_node"
		output="screen" />
		
		<node
		name="depth_image_compressor"
		pkg="depth2vf"
		type="cv_bridge_py2.py"
		output="screen" />
		
		<node
		name="fake_joint_calibration"
		pkg="rostopic"
		type="rostopic"
		args="pub /calibrated std_msgs/Bool true" />
		
	</group>



    
</launch>
